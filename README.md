https://redux-toolkit.js.org/api/createslice

https://redux.js.org/tutorials/fundamentals/part-3-state-actions-reducers

### 6. Create a new file in the src/features/topics directory and name it topicsSlice.js

6a. Is named topics.
```javascript
import { createSlice } from "@reduxjs/toolkit";
export const topicsSlice = createSlice({
name: 'topics',
})
```

6b. Has initial state consisting of an object that includes one property, topics, which corresponds to an empty object. This inner topics object will eventually hold all topics keyed by id.
```javascript
import { createSlice } from "@reduxjs/toolkit";
export const topicsSlice = createSlice({
name: 'topics',
initialState: {
  topics: {
  // will eventually hold all topics keyed by id.
  }
}
})
```

*6c. Has an addTopic action. You can expect the payload for this action to look like {id: '123456', name: 'name of topic', icon: 'icon url'}. Store these values in the state as a new topic object.
```javascript
import { createSlice } from "@reduxjs/toolkit";
const topicsSlice = createSlice({
name: 'topics',
initialState: {
  topics: {
    // Will eventually hold all topics keyed by id
  }
},
reducers: {
  addTopic: (state, action) => {
    state.topics[action.payload.id] = {
      id: action.payload.id,
      name: action.payload.name,
      icon: action.payload.icon,
    }
  }
}
})
```

6e. Each topic object added to the state should also have a quizIds property, which will correspond to an array containing the ids of each quiz associated with the topic. When a topic is first created, it won’t have any associated quizzes, but you should still create an empty quizIds array so that all topics in the state conform to the same shape.
```javascript
import { createSlice } from "@reduxjs/toolkit";
const topicsSlice = createSlice({
name: 'topics',
initialState: {
  topics: {
    // Will eventually hold all topics keyed by id
  }
},
reducers: {
  addTopic: (state, action) => {
    // topics keyed by id
    state.topics[action.payload.id] = {
      id: action.payload.id,
      name: action.payload.name,
      icon: action.payload.icon,
      quizIDs: [],
    }
  }
}
})
```

6f. Create a selector that selects the topics object nested within initialState.
```javascript
const selectTopics = (state) => state.topics.topics
```
6e. Export the selector as well as the action creators and reducer that your slice generates.
```javascript
export const topicsSlice = createSlice({
...
})

export const selectTopics = (state) => state.topics.topics;
export const topicsReducer = topicsSlice.reducer;
```

### 7. Add topics to the app’s store.
7a. Import the reducer generated by your topics slice in src/app/store.js
```javascript
import { topicsReducer } from "../features/topics/topicsSlice";
```

7b. add it to the empty object passed to configureStore under the key topics.
```javascript
import { configureStore } from "@reduxjs/toolkit";
import {topicsReducer } from "../features/topics/topicsSlice";

export default configureStore({
reducer: {
  topics: topicsReducer,
},
});
```

### 8. In src/features/topics/Topics.js,
8a.  import the selector defined in your slice
```javascript
import { selectTopics } from "./topicsSlice";
```

8b. Use it to access all the topics in state
```javascript
import { useSelector } from 'react-redux';
```

8c. Replace the empty object currently assigned to topics with the topics in state.
```javascript
import { selectTopics } from "../features/topics/topicsSlice";
// assigned to topics with topics in state
// need to import useSelector and then call it in conjunction with our selector to access all the topics in state.
const topics = useSelector(selectTopics)

```

### 9. Hook the new topic form up to the action creators our slice generates. 
In src/components/NewTopicForm.js, 
9a. Import addTopic 
Inside topicsSlice.js
```javascript
export const { addTopic } = topicsSlice.actions;
```
Then import addTopic into NewTopicForm.js
```javascript
import { addTopic } from '../features/topics/topicsSlice';
```
9b. dispatch it from the event handler that runs when the new topic form is submitted.

Hint: You will need to import and call the useDispatch() method in order to dispatch actions to the store.
```javascript
import { dispatch } from 'react-redux';

export default function NewTopicForm() {
  const dispatch = useDispatch();
  ...
}
```

9c. Include the topic’s name in the action payload as well as an id property (generate a value for this property by calling uuidv4()) and an icon property.
```javascript
  const handleSubmit = (e) => {
    ...
    dispatch(addTopic( {id: uuidv4(), name: name, icon: icon } ))
    // dispatch your add topic action here
    history.push(ROUTES.topicsRoute());
  };
```

Checkpoint: Verify that the code is working by filling out the form and submitting it. It should  redirect to the http://localhost:3000/topics page and a newly created topic should be there.






```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```















# To Run

# State

The app's state is totally normalized, with slices for topics, quizzes, and cards.

# Routes

- `/new-topic` – form to create a new topic
- `/topics` – index of all topics
- `/topics/:topicId` – page for an individual topic
- `/new-quiz` – form to create a new quiz
- `/quizzes` – index of all quizzes
- `/quizzes/:quizId` – page for an individual quiz

# To Test

1. Create topics
2. Create quizzes
3. Visit the page for an individual quiz and flip the cards over

# Questions

Is this appropriately scoped? Does it have too many features? Too few?
